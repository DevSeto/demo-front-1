<!--<section class="page-main-content">-->
<!--    <div class="popup">-->
<!--        <div class="popup__bg"></div>-->
<!--        <div class="popup-content create-ticket">-->
<!--            <div class="modal-content">-->
<!--                <div class="modal-header">-->
<!--                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="cloud.effect = 'createCannedReplies'">-->
<!--                        <span aria-hidden="true">-->
<!--                            <i class="la la-close"></i>-->
<!--                        </span>-->
<!--                    </button>-->
<!--                    <h4 class="modal-title">{{modalName}} canned reply</h4>-->
<!--                </div>-->
<!--                <div class="modal-body">-->
<!--                    <form id="createCannedReplies">-->
<!--                        <div class="row">-->
<!--                            <div class="col-md-12">-->
<!--                                <div class="col-md-12">-->
<!--                                    <div class="marginTop">-->
<!--                                        <div class="pull-left text-right ">-->
<!--                                            <label for="repliesName">Name</label>-->
<!--                                        </div>-->
<!--                                        <div class="pull-left field-box canned-field-box">-->
<!--                                            <input-->
<!--                                                    type="text"-->
<!--                                                    name=" "-->
<!--                                                    id="repliesName"-->
<!--                                                    class="form-control"-->
<!--                                                    (keyup)="cusstomValidationFromReplies(cannedRepliesModel.name,'name')"-->
<!--                                                    [ngClass]="{-->
<!--                                                        'input-error-style':cannedRepliesFormValidation.name && cannedRepliesModel.name.length === 0,-->
<!--                                                        'input-success-style':!cannedRepliesFormValidation.name && cannedRepliesModel.name.length > 0-->
<!--                                                        }"-->
<!--                                                    [(ngModel)]="cannedRepliesModel.name"-->
<!--                                            >-->
<!--                                        </div>-->
<!--                                        <div class="pull-left field-box canned-field-box">-->
<!--                                            <span class="box-error" *ngIf="cannedRepliesFormValidation.name">-->
<!--                                                Field is required-->
<!--                                            </span>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                    <div class="marginTop">-->
<!--                                        <div class="pull-left text-right errorpadding">-->
<!--                                            <label>Category</label>-->
<!--                                        </div>-->
<!--                                        <div class="row">-->
<!--                                            <div class="col-md-12">-->
<!--                                                <div class="dropdown custom-select-item" dropdown>-->
<!--                                                    <button-->
<!--                                                            class="form-control text-left"-->
<!--                                                            type="button"-->
<!--                                                            name="category"-->
<!--                                                            [ngClass]="{'input-error-style':cannedRepliesFormValidation.category_id && cannedRepliesModel.category_id === 0,'select-success-style':!cannedRepliesFormValidation.category_id && cannedRepliesModel.category_id > 0}"-->
<!--                                                            dropdown-open-->
<!--                                                    >-->
<!--                                                        {{selectionValue}}-->
<!--                                                    </button>-->
<!--                                                    <ul class="dropdown-menu mailbox_font_size">-->
<!--                                                        <li>-->
<!--                                                            <a style="cursor: auto">Select category</a>-->
<!--                                                        </li>-->
<!--                                                        <li-->
<!--                                                                *ngFor="let category of cannedRepliesService.categorys"-->
<!--                                                                (click)="selectCategory(category.id, category.name)"-->
<!--                                                        >-->
<!--                                                            <a>{{category.name}}</a>-->
<!--                                                        </li>-->
<!--                                                        <li (click)="createNewCategory()">-->
<!--                                                            <a class="new_category">Create new category</a>-->
<!--                                                        </li>-->
<!--                                                    </ul>-->
<!--                                                </div>-->
<!--                                                <div class="pull-left field-box  full-width">-->
<!--                                                <span class="box-error" *ngIf="cannedRepliesFormValidation.category_id">-->
<!--                                                     Field is required-->
<!--                                                </span>-->
<!--                                                </div>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="row">-->
<!--                            <div class="col-md-12">-->
<!--                                <div class="col-md-12">-->
<!--                                    <div class="text-editor-box clearfix">-->
<!--                                        <div class="pull-left field-box canned-field-box editior_section">-->
<!--                                            <div class="dropdown pull-right  create-canned-reply-item" dropdown>-->
<!--                                                <a id="dropdownMenu1" dropdown-open>-->
<!--                                                    <i class="la la-commenting-o"></i>-->
<!--                                                </a>-->
<!--                                                <ul-->
<!--                                                        *ngIf="selectMenu.showCannedRepliesList && this.cannedRepliesService.cannedReplies.length > 0"-->
<!--                                                        class="dropdown-menu canned-reply-dropdown"-->
<!--                                                >-->
<!--                                                    <li *ngFor="let replies of this.cannedRepliesService.cannedReplies; let ind = index">-->
<!--                                                        <a (click)="setCannedReplies(ind)">-->
<!--                                                            {{replies.name}}-->
<!--                                                        </a>-->
<!--                                                    </li>-->
<!--                                                </ul>-->
<!--                                            </div>-->
<!--                                            <div-->
<!--                                                    [class.create-ticket-error]="cannedRepliesFormValidation.body"-->
<!--                                                    class="mailbox-editor"-->
<!--                                                    [froalaEditor]="textEditor.editorOptions"-->
<!--                                                    [(froalaModel)]="cannedRepliesModel.body"-->
<!--                                            ></div>-->
<!--                                            <span *ngIf="cannedRepliesFormValidation.body" class="box-error">-->
<!--                                                {{cannedRepliesFormValidation.body}}-->
<!--                                            </span>-->
<!--                                        </div>-->
<!--                                        <div class="editor-bottom-part full-width-left">-->
<!--                                            <button type="submit" (click)="createCannedReplies()" class="new-canned-btn btn pull-right">-->
<!--                                                {{modalName}} canned reply-->
<!--                                            </button>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </form>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div *ngIf="createCategory" class="modal fade box-ticket modal-background" id="canned_category_popup" tabindex="-1" role="dialog">-->
<!--        <div class="modal-dialog" role="document">-->
<!--            <div class="modal-content">-->
<!--                <div class="modal-header">-->
<!--                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="createCategoyModal(!!0)">-->
<!--                        <span aria-hidden="true">-->
<!--                            <i class="la la-close"></i>-->
<!--                        </span>-->
<!--                    </button>-->
<!--                    <h4 class="modal-title">Create new canned reply Category</h4>-->
<!--                </div>-->
<!--                <div class="modal-body">-->
<!--                    <div class="row">-->
<!--                        <div class="col-md-12">-->
<!--                            <div class="col-md-12">-->
<!--                                <div class="clearfix">-->
<!--                                    <form id="blockSettings">-->
<!--                                        <div class="pull-left text-right">-->
<!--                                            <label for="newCategory">Category name</label>-->
<!--                                        </div>-->
<!--                                        <div class="pull-left field-box canned-field-box">-->
<!--                                            <input-->
<!--                                                    type="text"-->
<!--                                                    maxlength="35"-->
<!--                                                    maxlength="35"-->
<!--                                                    name=" "-->
<!--                                                    id="newCategory"-->
<!--                                                    class="form-control"-->
<!--                                                    (keyup)="cusstomErrorValidation(newCategoryData.newCategory)"-->
<!--                                                    [ngClass]="{'input-error-style':newCategoryData.newCategoryError && newCategoryData.newCategory.length === 0,'input-success-style':!newCategoryData.newCategoryError && newCategoryData.newCategory.length > 0}"-->
<!--                                                    [(ngModel)]="newCategoryData.newCategory"-->
<!--                                            >-->
<!--                                            <span class="box-error" *ngIf="newCategoryData.newCategoryError">-->
<!--                                                 Field is required-->
<!--                                            </span>-->
<!--                                        </div>-->
<!--                                        <div class="editor-bottom-part full-width-left" style="padding-right: 0">-->
<!--                                            <button type="submit" (click)="addCategory()"-->
<!--                                                    class="new-canned-btn btn pull-right">Create new category-->
<!--                                            </button>-->
<!--                                        </div>-->
<!--                                    </form>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</section>-->




<div class="popup popup--above popup--above--duble"  *ngIf="cloud.effect.createCannedReplies">
    <div class="popup__bg"></div>
    <div class="popup-content create-canned-responses">
        <div class="popup__head">
            <h3 class="popup__header">{{usersJson.json.popUpTitle[status]}}</h3>
            <!-- or {{ Create }} -->
            <button class="btn popup__close-btn" type="button" (click)="close()">
                <icon-svg pathToSVG="/public/images/icons/close.svg" ripple="false"></icon-svg>
            </button>
        </div>
        <form  [formGroup]="cannedRepliesForm"
               (ngSubmit)="create()"
               (keydown.enter)="$event.preventDefault()"
        >
            <div class="create-ticket-form">

                <div class="ui-input create-ticket-form__input">
                    <label class="ui-input__label" for="response-name">Name</label>
                    <input
                           class="ui-input__input input"
                           id="response-name"
                           type="text"
                           placeholder="Name"
                           [(ngModel)]="cannedRepliesService.currentCannedReplies.name"
                           type="text"
                           name="name"
                           [class.input-error-style]="classError('name')"
                           [class.input-success-style]="classSuccess('name')"
                           autocomplete="off"
                           value=""
                           data-rules="required"
                           formControlName="name"
                    >
                    <span class="error-span help-block error backend-error input-group-error">
                            <form-errors
                                    [control]="cannedRepliesForm.controls.name"
                                    [controlName]="'Name'"
                                    [formSubmit]="cannedRepliesForm.submitted"
                            ></form-errors>
                            <span *ngIf="_cannedRepliesFormErrors.name.verify">
                                {{_cannedRepliesFormErrors.name.text}}
                            </span>
                        </span>
                </div>

                <div class="ui-select create-ticket-form__input" dropdown>
                    <label class="ui-select__label" >Category</label>
                    <div class="ui-select__input" dropdown-open>{{selectedDropdown.category}}</div>
                    <div class="ui-select__options dropdown-menu">
                        <div class="ui-select__option"
                            *ngFor="let cat of cannedRepliesService.categorys"
                             (click)="cannedRepliesService.currentCannedReplies.category_id = cat.id;selectedDropdown.category = cat.name ;"
                        >
                            {{cat.name}}
                        </div>
                    </div>

                </div>

                <div class="ui-select create-ticket-form__input" dropdown>
                    <label class="ui-select__label" for="variable">Variable</label>
                    <div class="ui-select__input" dropdown-open id="variable">{{selectedDropdown.variable}}</div>
                    <div class="ui-select__options dropdown-menu">
                        <div class="ui-select__option"
                             *ngFor="let variable of variablesJson.json"
                             (click)="insertVariables(variable.value,'signature');selectedDropdown.variable = variable.key;"
                        >
                            {{variable.key | capitalizeFirst}}
                        </div>
                    </div>

                </div>
                <div class="ticket-editor ticket-editor--create-ticket">
                    <div class="text-editor-box clearfix">
                        <div
                                [froalaEditor]="textEditor.editorOptions"
                                [(froalaModel)]="cannedRepliesService.currentCannedReplies.body"
                                [class.input-error-style]="!bodyValid && cannedRepliesForm.submitted"
                                [class.input-success-style]="bodyValid && cannedRepliesForm.submitted"
                        >

                        </div>
                        <span class="error-span help-block error backend-error input-group-error" *ngIf="!bodyValid && cannedRepliesForm.submitted ">
                            <form-errors
                                    [control]="cannedRepliesForm.controls.body"
                                    [controlName]="'Body'"
                                    [formSubmit]="cannedRepliesForm.submitted"
                            ></form-errors>
                            <span *ngIf="_cannedRepliesFormErrors.body.verify">
                                {{_cannedRepliesFormErrors.body.text}}
                            </span>
                        </span>

                    </div>

                    <div class="marginTop">
                        <div class="grad-btn pull-right">
                            <button
                                    class="grad-btn__btn"
                                    type="submit"
                            >
                                Save Reply
                            </button>
                            <span class="grad-btn__bg"></span>
                        </div>

                        <button class="btn dafault pull-right" type="button"  (click)="close()">Cancel</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>




<div class="popup popup--above popup--above--duble" *ngIf="cloud.effect.createCannedRepliesCategory">
    <div class="popup__bg"></div>
    <div class="popup-content create-category" >
        <div class="popup__head">
            <h3 class="popup__header">Create Category</h3>

            <button class="btn popup__close-btn" (click)="cloud.effect = 'createCannedRepliesCategory'">                
                <icon-svg pathToSVG="/public/images/icons/close.svg" ripple="false"></icon-svg>
            </button>
        </div>

        <div class="ui-input w100">
            <label class="ui-input__label" for="newCategory">Category name</label>
            <input
                    class="ui-input__input input"
                   placeholder="Category name"
                   type="text"
                   maxlength="35"
                   name=" "
                   id="newCategory"
                   [ngClass]="{
                        'input-error-style':!category.length && oneclickCategory,
                        'input-success-style':category.length
                        }"
                   [(ngModel)]="category"
            >
            <span class="box-error" *ngIf="!category.length && oneclickCategory">
                                                 Field is required
                                            </span>
        </div>

        <div class="text-center">
            <div class="grad-btn">
                <button class="grad-btn__btn" (click)="addCategory()" [disabled]="disable">Create</button>
                <span class="grad-btn__bg"></span>
            </div>
        </div>
    </div>
</div>
